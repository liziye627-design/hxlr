# 狼人杀游戏 - 快速参考卡片

## 🎮 游戏启动

```bash
cd /workspace/app-7gn2vl8qe60x
pnpm run dev
```

## 📋 功能清单

### ✅ 已完成
- [x] 角色分配系统
- [x] 角色卡片展示
- [x] AI人设系统（6个预设）
- [x] 顺位发言系统（核心逻辑）
- [x] 语音输入功能
- [x] 发言记录系统
- [x] 角色技能逻辑

### 🔧 进行中
- [ ] 顺位发言UI优化
- [ ] 角色技能UI界面
- [ ] 游戏流程完善

### ⏳ 待开发
- [ ] UI布局优化（圆形布局）
- [ ] 投票系统
- [ ] 胜利判定
- [ ] 游戏回放

## 🎯 角色配置

### 6人局
- 狼人：2人
- 预言家：1人
- 女巫：1人
- 平民：2人

### 9人局
- 狼人：3人
- 预言家：1人
- 女巫：1人
- 猎人：1人
- 守卫：1人
- 平民：2人

### 12人局
- 狼人：4人
- 预言家：1人
- 女巫：1人
- 猎人：1人
- 守卫：1人
- 平民：4人

## 🤖 AI人设

| 人设 | 逻辑性 | 情绪化 | 激进度 | 谨慎度 |
|------|--------|--------|--------|--------|
| 逻辑大师 | 90% | 30% | 50% | 80% |
| 情感玩家 | 40% | 85% | 60% | 40% |
| 激进派 | 60% | 70% | 90% | 30% |
| 谨慎派 | 75% | 35% | 30% | 95% |
| 新手友好 | 50% | 50% | 50% | 50% |
| 老狐狸 | 85% | 40% | 55% | 90% |

## 🎭 角色说明

| 角色 | 图标 | 阵营 | 技能 |
|------|------|------|------|
| 狼人 | 🐺 | 狼人 | 夜晚击杀 |
| 平民 | 👨 | 好人 | 无技能 |
| 预言家 | 🔮 | 好人 | 查验身份 |
| 女巫 | 🧙 | 好人 | 解药/毒药 |
| 猎人 | 🏹 | 好人 | 出局开枪 |
| 守卫 | 🛡️ | 好人 | 守护玩家 |

## 🔍 调试命令

### 查看状态
```javascript
// 在浏览器控制台输入
console.log('userRole:', userRole);
console.log('currentSpeaker:', currentSpeaker);
console.log('players:', players);
```

### 预期日志
```
用户角色分配: werewolf
角色分配完成，等待显示角色卡片
检测到角色已分配: werewolf
显示角色卡片
```

## 🐛 常见问题

### Q1: 角色卡片不弹出？
**A**: 
1. 打开控制台（F12）
2. 检查是否有错误
3. 查看日志输出
4. 参考：ROLE_CARD_DEBUG_GUIDE.md

### Q2: 无法发言？
**A**: 
1. 检查是否轮到你
2. 查看当前发言者位置
3. 等待AI发言完成

### Q3: 语音输入不可用？
**A**: 
1. 使用Chrome或Edge浏览器
2. 允许麦克风权限
3. 检查网络连接

## 📁 重要文件

### 代码文件
```
src/pages/werewolf/
├── Werewolf.tsx          # 游戏选择页面
└── GameRoom.tsx          # 游戏房间页面

src/types/index.ts        # 类型定义
src/db/api.ts             # API接口
```

### 数据库文件
```
supabase/migrations/
├── 01_create_werewolf_tables.sql
├── 02_add_persona_system.sql
└── 03_add_multiplayer_system.sql
```

### 文档文件
```
WEREWOLF_V4_PROGRESS.md        # 开发进度
WEREWOLF_V4.1_UPDATE.md        # 更新说明
ROLE_CARD_DEBUG_GUIDE.md       # 调试指南
QUICK_TEST_GUIDE.md            # 测试指南
FINAL_SUMMARY.md               # 项目总结
QUICK_REFERENCE.md             # 快速参考（本文件）
```

## 🚀 快速测试

1. **启动应用** → `pnpm run dev`
2. **进入游戏** → 点击"狼人杀"
3. **选择配置** → 6人局 + 5个AI
4. **开始游戏** → 点击"开始游戏"
5. **验证功能** → 角色卡片弹出
6. **测试发言** → 轮到自己时发言
7. **观察AI** → AI按顺序发言

## 📊 项目状态

- **版本**：V4.1
- **完成度**：60%
- **状态**：✅ 核心功能可用
- **更新**：2025-01-10

## 🔗 相关链接

- [详细开发进度](./WEREWOLF_V4_PROGRESS.md)
- [V4.1更新说明](./WEREWOLF_V4.1_UPDATE.md)
- [调试指南](./ROLE_CARD_DEBUG_GUIDE.md)
- [测试指南](./QUICK_TEST_GUIDE.md)
- [项目总结](./FINAL_SUMMARY.md)

---

**提示**：遇到问题先查看控制台日志，参考调试指南！
